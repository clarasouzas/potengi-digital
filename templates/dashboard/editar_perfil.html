{% extends "dashboard/base_dashboard.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block conteudo %}

<div class="container" style="max-width: 820px;">

    <h3 class="mb-4 fw-bold">
        <i class="bi bi-person-lines-fill me-2 title-dashboard"></i> Editar Perfil
    </h3>

    <div class="card shadow-sm p-4">

        <!-- FOTO -->
        <div class="text-center mb-4">
            {% if foto %}
                <img src="{{ foto }}" class="perfil-foto-preview rounded-circle shadow">
            {% else %}
                <div class="no-photo-icon">
                    <i class="{{ icone }} fs-1 text-secondary"></i>
                </div>
            {% endif %}
        </div>

        <!-- SEÇÃO DO PERFIL -->
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <h5 class="fw-bold text-primary mb-3">
                <i class="bi bi-pencil-square me-1"></i> Informações do Perfil
            </h5>

            <div class="mb-4">
                {{ form|crispy }}
            </div>

            <div class="text-end">
                <button type="submit" class="btn btn-primary px-4">
                    <i class="bi bi-check2-circle me-1"></i> Salvar Alterações
                </button>
            </div>
        </form>

    </div>
</div>

<style>
.perfil-foto-preview {
    width: 110px;
    height: 110px;
    object-fit: cover;
    border-radius: 100%;
    border: 4px solid #2C7F67;
}

.no-photo-icon {
    width: 100px;
    height: 100px;
    background: #e5e5e5;
    border-radius: 100%;
    display:flex;
    justify-content:center;
    align-items:center;
}

.card h5 {
    border-left: 4px solid #2C7F67;
    padding-left: 10px;
}
</style>

{% endblock %}
