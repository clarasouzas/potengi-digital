<div class="card-list">

    <!-- TÍTULO -->
    <div class="card-title">
        {{ vaga.titulo }}
    </div>

    <!-- EMPRESA -->
    <div class="card-meta">
        <i class="bi bi-building me-1"></i>
        {{ vaga.empresa.nome|default:vaga.empresa.email }}
    </div>

    <!-- CIDADE -->
    <div class="card-meta">
        <i class="bi bi-geo-alt me-1"></i>
        {{ vaga.cidade|default:"Cidade não informada" }}
    </div>

    <!-- STATUS -->
    <div class="mt-2">
        {% if vaga.status == "pendente" %}
            <span class="badge pend">
                <i class="bi bi-hourglass-split me-1"></i> Pendente
            </span>

        {% elif vaga.status == "aprovada" %}
            <span class="badge aprov">
                <i class="bi bi-check-circle me-1"></i> Aprovada
            </span>

        {% elif vaga.status == "reprovada" %}
            <span class="badge recs">
                <i class="bi bi-x-circle me-1"></i> Reprovada
            </span>

        {% elif vaga.status == "encerrada" %}
            <span class="badge anls">
                <i class="bi bi-slash-circle me-1"></i> Encerrada
            </span>
        {% endif %}
    </div>

    <!-- AÇÕES -->
    <div class="card-actions mt-3">

        <!-- VER DETALHES (AJAX) -->
        <a href="#"
           class="btn-outline-action"
           data-vaga-detalhe="{% url 'ajax:vaga_detalhe' vaga.id %}"
           data-modal="modal-global">
            <i class="bi bi-eye"></i> Ver
        </a>

        <!-- EDITAR (AJAX – EMPRESA / COORDENAÇÃO) -->
        {% if request.user == vaga.empresa or request.user.tipo == "coordenador" %}
        <a href="#"
           class="btn-outline-action"
           data-vaga-form="{% url 'ajax:vaga_form' vaga.id %}"
           data-modal="modal-global">
            <i class="bi bi-pencil"></i> Editar
        </a>
        {% endif %}

        <!-- EXCLUIR (CONFIRMAÇÃO AJAX) -->
        {% if request.user == vaga.empresa or request.user.tipo == "coordenador" %}
        <a href="#"
           class="btn-outline-action btn-danger"
           data-vaga-form="{% url 'ajax:vaga_delete' vaga.id %}"
           data-modal="modal-global">
            <i class="bi bi-trash"></i> Excluir
        </a>
        {% endif %}

    </div>

</div>
